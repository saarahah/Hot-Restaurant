<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Star Wars - Express</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>
    <div class = "container">
        <div class = "jumbotron">
            <h1 class = "text-center">
                <span class = "fa fa-fire">
                </span>
                Hot Restauraunt
            </h1>

            <h2 class = "text-center">We Only Have 5 Tables! Book Your Seat Before They Are All Gone!</h2>
            <br>
            <div class = "text-center">
            <a href = "/reserve">
            <button class = "btn btn-lg btn-danger">
              <span class = "fa fa-credit-card"></span>
              Make Reservation
            </button>
          </a>
        <button class="btn btn-lg btn-default" id = "reserve"><span class="fa fa-home"></span></button></a>
        </div>
        </div>
        <div class = "row">
            <div class = "col-lg-12">
                <div class= "card mt-4">
                    <div class = "card-header">
                        <h4>Current Reservations</h4>
                    </div>
                <div class = "card-body">
                        <ul id = "tableList" class = "list-group">
                            <li class = "list-group-item mt-4">            
                                <h2>Table #</h2>
                                <h2>ID:</h2>
                                <h2>Name:</h2>
                                <h2>Email:</h2>
                                <h2>Phone:</h2></li>
                            <li class = "list-group-item mt-4">                                
                                <h2>Table #</h2>
                                <h2>ID:</h2>
                                <h2>Name:</h2>
                                <h2>Email:</h2>
                                <h2>Phone:</h2></li></li>
                            <li class = "list-group-item mt-4">                                
                                <h2>Table #</h2>
                                <h2>ID:</h2>
                                <h2>Name:</h2>
                                <h2>Email:</h2>
                                <h2>Phone:</h2></li></li>
                            <li class = "list-group-item mt-4">                                
                                <h2>Table #</h2>
                                <h2>ID:</h2>
                                <h2>Name:</h2>
                                <h2>Email:</h2>
                                <h2>Phone:</h2></li></li>
                                <li class = "list-group-item mt-4">                                
                                    <h2>Table #</h2>
                                    <h2>ID:</h2>
                                    <h2>Name:</h2>
                                    <h2>Email:</h2>
                                    <h2>Phone:</h2></li></li>
                        </ul>
                </div>
                <div class = "card mt-4">
                    <div class = "card-header">
                        <h4>Waiting List</h4>
                    </div>
                <div class = "card-body">
                    <ul id = "waitlist" class= "list-group">

                        <li class = "list-group-item mt-4">                                
                            <h2>Table #</h2>
                            <h2>ID:</h2>
                            <h2>Name:</h2>
                            <h2>Email:</h2>
                            <h2>Phone:</h2></li></li>
                        <li class = "list-group-item mt-4">                                
                            <h2>Table #</h2>
                            <h2>ID:</h2>
                            <h2>Name:</h2>
                            <h2>Email:</h2>
                            <h2>Phone:</h2></li></li>
                        <li class = "list-group-item mt-4">                                
                            <h2>Table #</h2>
                            <h2>ID:</h2>
                            <h2>Name:</h2>
                            <h2>Email:</h2>
                            <h2>Phone:</h2></li></li>
                        <li class = "list-group-item mt-4">                                
                            <h2>Table #</h2>
                            <h2>ID:</h2>
                            <h2>Name:</h2>
                            <h2>Email:</h2>
                            <h2>Phone:</h2></li></li>
                        <li class = "list-group-item mt-4">                                
                                <h2>Table #</h2>
                                <h2>ID:</h2>
                                <h2>Name:</h2>
                                <h2>Email:</h2>
                                <h2>Phone:</h2></li></li>
                    </ul>
                </div>
            </div>
            </div>
        </div>

        <script type="text/javascript">
            //start ajax call
            $.ajax({
                url:"/api/tables",
                method: "GET"
            }).then(function(tData) {
                console.log(tData);
            
            //for loop to show each reservation by user
            for (var i=0;i<tData.length; i++) {
                var tableList = $("#tableList");
                var listItem = $("<li class = 'list-group-item mt-4'>")
            
              listItem.append(
                $("<h2>").val("Table #" + (i+1)),
                $("<h2>").val("ID: " + tData[i].userID),
                $("<h2>").val("Name: " + tData[i].userName),
                $("<h2>").val("Email: " + tData[i].userEmail),
                $("<h2>").val("Phone: " + tData[i].phoneNumber),
              );
        
              listItem.appendTo(tableList);
            }
            });
        
          </script>
        
 </body>
  </html>

